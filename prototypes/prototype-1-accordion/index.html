<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Prototype 1: Nested Accordion Tree (Updated)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
      :root {
        --color-void: #0a0a0f;
        --color-graphite: #1e1e28;
        --color-steel: #6b7280;
        --color-pearl: #d1d5db;
        --color-cloud: #e5e7eb;
        --color-snow: #f9fafb;
        --color-electric-blue: #3b82f6;
        --color-electric-cyan: #06b6d4;
        --color-electric-emerald: #10b981;
        --color-electric-amber: #f59e0b;
      }

      body {
        background: linear-gradient(
          135deg,
          var(--color-void) 0%,
          var(--color-graphite) 100%
        );
        min-height: 100vh;
      }

      .depth-1 {
        margin-left: 0;
      }
      .depth-2 {
        margin-left: 2rem;
      }
      .depth-3 {
        margin-left: 4rem;
      }
      .depth-4 {
        margin-left: 6rem;
      }
      .depth-5 {
        margin-left: 8rem;
      }

      .depth-indicator {
        width: 3px;
        height: 100%;
        position: absolute;
        left: -1rem;
        top: 0;
      }

      .ai-added {
        position: relative;
        animation: slideIn 0.3s ease-out;
      }

      @keyframes slideIn {
        from {
          opacity: 0;
          transform: translateX(-10px);
        }
        to {
          opacity: 1;
          transform: translateX(0);
        }
      }

      .delete-btn {
        opacity: 0;
        transition: opacity 0.2s;
      }

      .ai-added:hover .delete-btn {
        opacity: 1;
      }
    </style>
  </head>
  <body class="text-gray-100 p-8">
    <div class="max-w-4xl mx-auto">
      <!-- Header -->
      <div class="mb-8">
        <a
          href="../index.html"
          class="text-blue-400 hover:text-blue-300 text-sm mb-4 inline-block"
          >‚Üê Back to Prototypes</a
        >
        <h1 class="text-3xl font-bold text-white mb-2">
          Nested Accordion Tree
        </h1>
        <p class="text-gray-400">
          Hierarchical expansion with voice-enabled AI integration
        </p>
      </div>

      <!-- Breadcrumb Trail -->
      <div
        class="bg-gray-900/50 backdrop-blur border border-gray-800 rounded-lg px-4 py-3 mb-6 text-sm text-gray-400"
      >
        <span class="text-blue-400">üìã Summary</span> ‚Üí
        <span class="text-cyan-400">Key Points</span> ‚Üí
        <span class="text-gray-500">Deep Dive</span> ‚Üí
        <span class="text-emerald-400">AI Enhanced</span>
      </div>

      <!-- Accordion Content -->
      <div class="space-y-4">
        <!-- Level 1: Chapter Summary (Expanded) -->
        <div class="depth-1 relative">
          <div
            class="bg-gray-900/70 backdrop-blur border-l-4 border-blue-500 rounded-lg p-6"
          >
            <div class="flex items-start justify-between mb-4">
              <div class="flex items-center gap-3">
                <span class="text-2xl">üìã</span>
                <h2 class="text-xl font-bold text-white">
                  Chapter: Getting Things Done
                </h2>
              </div>
              <button class="text-gray-400 hover:text-white">‚ñº</button>
            </div>
            <p class="text-gray-300 leading-relaxed">
              The Getting Things Done (GTD) methodology provides a systematic
              approach to managing tasks, projects, and commitments. By
              capturing everything externally and processing it methodically,
              you free your mind for creative thinking.
            </p>
          </div>

          <!-- Level 2: Key Point 1 (Expanded) -->
          <div class="depth-2 relative mt-4">
            <div class="depth-indicator bg-blue-500/30"></div>
            <div
              class="bg-gray-900/50 backdrop-blur border border-gray-700 rounded-lg p-5"
            >
              <div class="flex items-start justify-between mb-3">
                <div class="flex items-center gap-2">
                  <span class="text-xl">üîë</span>
                  <h3 class="text-lg font-semibold text-white">
                    Key Point: Capture Everything
                  </h3>
                </div>
                <button class="text-gray-400 hover:text-white text-sm">
                  ‚ñº
                </button>
              </div>
              <p class="text-gray-300 text-sm mb-3">
                Your mind is for having ideas, not holding them. Capture all
                tasks, ideas, and commitments in a trusted external system.
              </p>
              <p class="text-gray-400 text-sm">
                The human brain can hold about 7 items in working memory. Every
                uncaptured commitment creates cognitive load. By capturing
                everything externally, you free mental bandwidth for thinking
                and creativity.
              </p>
            </div>

            <!-- Level 3: Deep Dive (Expanded) -->
            <div class="depth-3 relative mt-4">
              <div class="depth-indicator bg-cyan-500/30"></div>
              <div
                class="bg-gray-800/50 backdrop-blur border border-gray-600 rounded-lg p-4"
              >
                <div class="flex items-start justify-between mb-3">
                  <div class="flex items-center gap-2">
                    <span>üî¨</span>
                    <h4 class="font-semibold text-white text-sm">
                      Deep Dive: The Psychology of External Storage
                    </h4>
                  </div>
                  <button class="text-gray-400 hover:text-white text-xs">
                    ‚ñº
                  </button>
                </div>
                <p class="text-gray-300 text-sm leading-relaxed">
                  Neuroscience shows that unfinished tasks create 'open loops'
                  in the brain (Zeigarnik Effect). These loops persist in
                  working memory, consuming cognitive resources even when you're
                  not actively thinking about them. Research by Baumeister
                  (2011) demonstrated that simply writing down tasks
                  significantly reduces anxiety and improves focus.
                </p>
              </div>

              <!-- Level 4: AI-Enhanced Question (User Asked) -->
              <div class="depth-4 relative mt-4 ai-added">
                <div class="depth-indicator bg-emerald-500/30"></div>
                <div
                  class="bg-gradient-to-br from-emerald-50 to-cyan-50 border-l-4 border-emerald-500 rounded-lg p-4 shadow-lg"
                >
                  <div class="flex items-start justify-between mb-3">
                    <div class="flex items-center gap-2">
                      <span class="text-lg">üí¨</span>
                      <div>
                        <span class="text-xs text-emerald-600 font-medium"
                          >YOU ASKED</span
                        >
                        <h5 class="font-semibold text-gray-900 text-sm">
                          How do I build a capture habit?
                        </h5>
                      </div>
                    </div>
                    <button
                      class="delete-btn text-gray-400 hover:text-red-500 text-xs"
                      title="Remove this AI conversation"
                    >
                      ‚úï
                    </button>
                  </div>
                  <div class="text-sm text-gray-700 space-y-2 ml-6">
                    <p class="leading-relaxed">
                      Building a capture habit requires making it frictionless.
                      Here's a 3-step approach:
                    </p>
                    <div class="space-y-1.5">
                      <p>
                        <strong class="text-gray-900"
                          >1. Choose one ubiquitous tool</strong
                        >
                        - Use something always with you (phone app, small
                        notebook).
                      </p>
                      <p>
                        <strong class="text-gray-900"
                          >2. Create a trigger</strong
                        >
                        - Capture every time you feel mental friction.
                      </p>
                      <p>
                        <strong class="text-gray-900"
                          >3. Process daily for 21 days</strong
                        >
                        - Research shows habits form through consistent
                        repetition.
                      </p>
                    </div>
                  </div>
                </div>

                <!-- Level 5: Follow-up AI Question (Nested deeper) -->
                <div class="depth-5 relative mt-4 ai-added">
                  <div class="depth-indicator bg-emerald-500/20"></div>
                  <div
                    class="bg-gradient-to-br from-amber-50 to-orange-50 border-l-4 border-amber-500 rounded-lg p-4 shadow"
                  >
                    <div class="flex items-start justify-between mb-2">
                      <div class="flex items-center gap-2">
                        <span class="text-base">üí¨</span>
                        <div>
                          <span class="text-xs text-amber-600 font-medium"
                            >FOLLOW-UP</span
                          >
                          <h6 class="font-semibold text-gray-900 text-xs">
                            What if I forget to capture?
                          </h6>
                        </div>
                      </div>
                      <button
                        class="delete-btn text-gray-400 hover:text-red-500 text-xs"
                        title="Remove this"
                      >
                        ‚úï
                      </button>
                    </div>
                    <p class="text-xs text-gray-700 ml-5 leading-relaxed">
                      Forgetting is normal! Set recurring alarms (10am, 2pm,
                      6pm) asking "Did I capture everything?" Put sticky notes
                      on your monitor. The goal isn't perfection‚Äîit's noticing
                      the feeling of "I need to remember this" and immediately
                      capturing.
                    </p>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Level 2: Key Point 2 (Collapsed) -->
          <div class="depth-2 relative mt-4">
            <div
              class="bg-gray-900/30 backdrop-blur border border-gray-700/50 rounded-lg p-4 hover:bg-gray-900/50 transition-colors cursor-pointer"
            >
              <div class="flex items-center justify-between">
                <div class="flex items-center gap-2">
                  <span class="text-xl">üîë</span>
                  <h3 class="text-base font-semibold text-gray-300">
                    Key Point: Process Weekly
                  </h3>
                </div>
                <button class="text-gray-500 hover:text-white text-sm">
                  ‚ñ∂
                </button>
              </div>
            </div>
          </div>

          <!-- Level 2: Key Point 3 (Collapsed) -->
          <div class="depth-2 relative mt-4">
            <div
              class="bg-gray-900/30 backdrop-blur border border-gray-700/50 rounded-lg p-4 hover:bg-gray-900/50 transition-colors cursor-pointer"
            >
              <div class="flex items-center justify-between">
                <div class="flex items-center gap-2">
                  <span class="text-xl">üîë</span>
                  <h3 class="text-base font-semibold text-gray-300">
                    Key Point: Define Next Actions
                  </h3>
                </div>
                <button class="text-gray-500 hover:text-white text-sm">
                  ‚ñ∂
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- AI Chat Interface (Floating) -->
      <div
        class="fixed bottom-6 right-6 w-96 max-h-[600px] flex flex-col bg-white rounded-2xl shadow-2xl border border-gray-200"
      >
        <!-- Header -->
        <div
          class="px-5 py-4 border-b border-gray-200 flex items-center justify-between bg-gradient-to-r from-emerald-50 to-cyan-50"
        >
          <div class="flex items-center gap-3">
            <div
              class="w-10 h-10 rounded-xl bg-gradient-to-br from-emerald-500 to-cyan-500 flex items-center justify-center text-white text-lg shadow"
            >
              üí¨
            </div>
            <div>
              <h3 class="font-semibold text-gray-900 text-sm">
                AI Learning Assistant
              </h3>
              <p class="text-xs text-gray-600">
                Ask questions to enhance content
              </p>
            </div>
          </div>
          <button class="text-gray-400 hover:text-gray-600">
            <svg
              class="w-5 h-5"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M6 18L18 6M6 6l12 12"
              />
            </svg>
          </button>
        </div>

        <!-- Messages -->
        <div class="flex-1 overflow-y-auto p-4 space-y-3 bg-gray-50">
          <div class="text-center">
            <p class="text-xs text-gray-500">
              Questions you ask will nest into the content above
            </p>
          </div>

          <!-- Example message -->
          <div class="flex justify-end">
            <div
              class="bg-gradient-to-br from-blue-500 to-cyan-500 text-white rounded-2xl rounded-br-sm px-4 py-2 max-w-[80%] shadow"
            >
              <p class="text-sm">How do I build a capture habit?</p>
            </div>
          </div>

          <!-- AI Response indicator -->
          <div class="flex justify-start">
            <div
              class="bg-white border border-gray-200 rounded-2xl rounded-bl-sm px-4 py-2 max-w-[80%] shadow-sm"
            >
              <p class="text-sm text-gray-700">
                <span class="text-emerald-600 font-medium"
                  >‚úì Added to content</span
                >
                - Check "Capture Everything" section above
              </p>
            </div>
          </div>
        </div>

        <!-- Input -->
        <div class="p-4 border-t border-gray-200 bg-white rounded-b-2xl">
          <div class="flex items-center gap-2 mb-2">
            <input
              type="text"
              placeholder="Ask about this chapter..."
              class="flex-1 px-4 py-2.5 bg-gray-50 border border-gray-200 rounded-xl text-gray-900 placeholder-gray-500 text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent"
            />

            <!-- Voice Input Button -->
            <button
              class="w-11 h-11 rounded-xl bg-gradient-to-br from-emerald-500 to-cyan-500 flex items-center justify-center text-white hover:shadow-lg transition-all"
              title="Voice input"
            >
              <svg
                class="w-5 h-5"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z"
                />
              </svg>
            </button>

            <!-- Send Button -->
            <button
              class="w-11 h-11 rounded-xl bg-gradient-to-br from-blue-500 to-cyan-500 flex items-center justify-center text-white hover:shadow-lg transition-all"
            >
              <svg
                class="w-5 h-5"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8"
                />
              </svg>
            </button>
          </div>

          <div class="flex items-center gap-2 text-xs text-gray-500">
            <svg class="w-3.5 h-3.5" fill="currentColor" viewBox="0 0 20 20">
              <path
                fill-rule="evenodd"
                d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z"
                clip-rule="evenodd"
              />
            </svg>
            <span>Responses nest into content. Hover to delete.</span>
          </div>
        </div>
      </div>

      <!-- Visual Legend -->
      <div
        class="mt-12 bg-gray-900/30 backdrop-blur border border-gray-800 rounded-lg p-6"
      >
        <h3 class="text-sm font-semibold text-white mb-4">
          Progressive Depth Levels
        </h3>
        <div class="space-y-2 text-sm">
          <div class="flex items-center gap-3">
            <div class="w-3 h-3 rounded-full bg-blue-500"></div>
            <span class="text-gray-300"
              >Level 1: Summary (30 sec overview)</span
            >
          </div>
          <div class="flex items-center gap-3">
            <div class="w-3 h-3 rounded-full bg-cyan-500"></div>
            <span class="text-gray-300"
              >Level 2: Key Points (2-3 min read)</span
            >
          </div>
          <div class="flex items-center gap-3">
            <div class="w-3 h-3 rounded-full bg-cyan-600"></div>
            <span class="text-gray-300"
              >Level 3: Deep Dive (10-15 min read)</span
            >
          </div>
          <div class="flex items-center gap-3">
            <div class="w-3 h-3 rounded-full bg-emerald-500"></div>
            <span class="text-gray-300"
              >Level 4+: AI-Enhanced (Your questions)</span
            >
          </div>
        </div>

        <div class="mt-6 pt-4 border-t border-gray-700">
          <h4 class="text-xs font-semibold text-white mb-3">New Features</h4>
          <div class="space-y-2 text-xs text-gray-400">
            <p>
              ‚úì <strong class="text-white">Voice Input</strong> - Click
              microphone to speak your questions
            </p>
            <p>
              ‚úì <strong class="text-white">Nested AI Responses</strong> -
              Questions integrate into content hierarchy
            </p>
            <p>
              ‚úì <strong class="text-white">Deletable Content</strong> - Hover
              over AI additions to remove them
            </p>
            <p>
              ‚úì <strong class="text-white">Clean Colors</strong> - Emerald/cyan
              for AI instead of purple
            </p>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
